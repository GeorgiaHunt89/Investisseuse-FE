(this["webpackJsonpproject03-fe-starter"]=this["webpackJsonpproject03-fe-starter"]||[]).push([[0],{83:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a,c,s=n(3),r=n.n(s),i=n(64),l=n.n(i),o=(n(83),n(16)),j=n(14),b=n(10),d=n(72),m=n(99),h=n(100),u=n(98),x=n(71),O=n(2),p=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("h1",{children:"Home"})})},f=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"404 Page Not Found"}),Object(O.jsx)("p",{children:Object(O.jsx)("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji",children:"\ud83d\ude44"})})]})},v=n(35),g=n(36),w=n.n(g),N=n(43),y=n(29),k=n(104),S=n(40),$=n(101),F=Object($.a)(a||(a=Object(S.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),C=Object($.a)(c||(c=Object(S.a)(["\n  mutation addUser($firstName: String!, $lastName: String!, $email: String!, $password: String!, $role: String!) {\n    addUser(firstName: $firstName, lastName: $lastName, email: $email, password: $password, role: $role) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),I=n(65),E=n(66),L=n(54),B=new(function(){function e(){Object(I.a)(this,e)}return Object(E.a)(e,[{key:"getProfile",value:function(){return Object(L.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return Object(L.a)(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}());var P=function(){var e=Object(s.useState)({email:"",password:""}),t=Object(y.a)(e,2),n=t[0],a=t[1],c=Object(k.a)(F),r=Object(y.a)(c,2),i=r[0],l=r[1].error,b=function(){var e=Object(N.a)(w.a.mark((function e(t){var a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:Object(o.a)({},n)});case 4:a=e.sent,c=a.data.login.token,B.login(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,c=t.name,s=t.value;a(Object(o.a)(Object(o.a)({},n),{},Object(v.a)({},c,s)))};return Object(O.jsxs)("div",{className:"container my-1",children:[Object(O.jsx)(j.b,{to:"/signup",children:"\u2190 Go to Signup"}),Object(O.jsx)("h2",{children:"Login"}),Object(O.jsxs)("form",{onSubmit:b,children:[Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email address:"}),Object(O.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:d})]}),Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(O.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:d})]}),l?Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"error-text",children:"The provided credentials are incorrect"})}):null,Object(O.jsx)("div",{className:"flex-row flex-end",children:Object(O.jsx)("button",{type:"submit",children:"Submit"})})]})]})};var _=function(e){var t=Object(s.useState)({email:"",password:"",firstName:"",lastName:"",role:""}),n=Object(y.a)(t,2),a=n[0],c=n[1],r=Object(k.a)(C),i=Object(y.a)(r,1)[0],l=function(){var e=Object(N.a)(w.a.mark((function e(t){var n,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,i({variables:Object(o.a)({},a)});case 3:n=e.sent,c=n.data.addUser.token,B.login(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,n=t.name,s=t.value;c(Object(o.a)(Object(o.a)({},a),{},Object(v.a)({},n,s)))};return Object(O.jsxs)("div",{className:"container my-1",children:[Object(O.jsx)(j.b,{to:"/login",children:"\u2190 Go to Login"}),Object(O.jsx)("h2",{children:"Signup"}),Object(O.jsxs)("form",{onSubmit:l,children:[Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(O.jsx)("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:b})]}),Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(O.jsx)("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:b})]}),Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(O.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:b})]}),Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(O.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:b})]}),Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"role",children:"Role:"}),Object(O.jsx)("input",{placeholder:"founder or investor",name:"role",type:"role",id:"role",onChange:b})]}),Object(O.jsx)("div",{className:"flex-row flex-end",children:Object(O.jsx)("button",{type:"submit",children:"Submit"})})]})]})};var T=function(){return Object(O.jsxs)("header",{className:"flex-row px-1",children:[Object(O.jsx)("h1",{children:Object(O.jsx)(j.b,{to:"/",children:"Investisseuse"})}),Object(O.jsx)("nav",{children:B.loggedIn()?Object(O.jsxs)("ul",{className:"flex-row",children:[Object(O.jsx)("li",{className:"mx-1",children:Object(O.jsx)(j.b,{to:"/profile",children:"Profile"})}),Object(O.jsx)("li",{className:"mx-1",children:Object(O.jsx)("a",{href:"/",onClick:function(){return B.logout()},children:"Logout"})})]}):Object(O.jsxs)("ul",{className:"flex-row",children:[Object(O.jsx)("li",{className:"mx-1",children:Object(O.jsx)(j.b,{to:"/signup",children:"Signup"})}),Object(O.jsx)("li",{className:"mx-1",children:Object(O.jsx)(j.b,{to:"/login",children:"Login"})}),Object(O.jsx)("li",{className:"mx-1",children:Object(O.jsx)(j.b,{to:"/investments",children:"Investments"})}),Object(O.jsx)("li",{className:"mx-1",children:Object(O.jsx)(j.b,{to:"/business",children:"Business"})}),Object(O.jsx)("li",{className:"mx-1",children:Object(O.jsx)(j.b,{to:"/aboutUs",children:"About us"})}),Object(O.jsx)("li",{className:"mx-1",children:Object(O.jsx)(j.b,{to:"/blog",children:"Blog"})})]})})]})},U=n(73),D=function(e,t){return t.type,e};var R,A=Object(s.createContext)(),G=A.Provider,J=function(e){e.value;var t,n=Object(U.a)(e,["value"]),a=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(s.useReducer)(D,t)),c=Object(y.a)(a,2),r=c[0],i=c[1];return Object(O.jsx)(G,Object(o.a)({value:[r,i]},n))},q=Object($.a)(R||(R=Object(S.a)(["\n  {\n    user {\n      _id\n      firstName\n      lastName\n      email\n      role\n    }\n  }\n"]))),z=n(102),H=function(){var e=Object(z.a)(q),t=e.data;return e.loading?Object(O.jsx)("div",{children:"Loading..."}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Profile"}),Object(O.jsxs)("p",{children:["First Name: ",t.user.firstName]}),Object(O.jsxs)("p",{children:["Last Name: ",t.user.lastName]}),Object(O.jsxs)("p",{children:["Email: ",t.user.email]})]})},M=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("h1",{children:"Investments"})})},W=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("h1",{children:"Business"})})},K=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("h1",{children:"About"})})},Q=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("h1",{children:"Blog"})})},V=Object(d.a)({uri:"http://localhost:3001/graphql"}),X=Object(x.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(o.a)(Object(o.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),Y=new m.a({link:X.concat(V),cache:new h.a});var Z=function(){return Object(O.jsx)(u.a,{client:Y,children:Object(O.jsx)(j.a,{children:Object(O.jsx)("div",{children:Object(O.jsxs)(J,{children:[Object(O.jsx)(T,{}),Object(O.jsxs)(b.c,{children:[Object(O.jsx)(b.a,{exact:!0,path:"/",component:p}),Object(O.jsx)(b.a,{exact:!0,path:"/login",component:P}),Object(O.jsx)(b.a,{exact:!0,path:"/signup",component:_}),Object(O.jsx)(b.a,{exact:!0,path:"/profile",component:H}),Object(O.jsx)(b.a,{exact:!0,path:"/investments",component:M}),Object(O.jsx)(b.a,{exact:!0,path:"/business",component:W}),Object(O.jsx)(b.a,{exact:!0,path:"/about",component:K}),Object(O.jsx)(b.a,{exact:!0,path:"/blog",component:Q}),Object(O.jsx)(b.a,{component:f})]})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Z,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.3fbe2d0d.chunk.js.map